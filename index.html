<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Waters at Risk</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <!-- request styles -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.8.2/mapbox-gl.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Source+Sans+Pro&display=swap" rel="stylesheet">
</head>
<body>
     <!--Navigation Bar-->
     <nav class="navbar navbar-expand-md navbar-custom fixed-top border border-dark">
         <div class="navbar-title">Waters at Risk:</div>
         <div class="navbar-subtitle"> Implications of Core Forest Reduction in High Quality Stream Drainages</div>
         <button class="btn btn-dark btn-sm" type="button" data-bs-toggle="modal" data-bs-target="#Modal">
             <img src="images/info-circle.svg" alt="Info" style="vertical-align: middle;">
         </button>
     </nav>

    <!-- Modal -->
    <div class="modal fade" id="Modal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
          <div class="modal-content">
              <div class="modal-header">
                  <h4 class="modal-title" id="ModalLabel">High Quality Water Vulnerability</h4>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                  <h5><u>Overview</u></h5>
                  <p>High quality streams under the US Clean Water Act are those waters whose quality exceed that necessary to protect the “fishable / swimmable” goals.  High quality streams support healthy populations of aquatic life only found under least disturbed conditions with little pollution.  In Connecticut, least disturbed conditions are maintained with high levels of core forest within the stream corridor and upstream drainage basin.  <a href=https://ctmirror.org/2022/06/05/deer-lake-another-round-in-the-battle-between-conservation-and-sprawl/>Urban sprawl </a> resulting in the <a href = https://www.mdpi.com/2073-445X/9/8/255/html>reduction of core forest</a> is a key threat to maintaining high quality conditions in Connecticut streams.</p>
                  <img src="images/SagesRivine.png" class="img-fluid" alt="Sages Ravine">
                  <div class="caption"> Sages Ravine, Salisbury CT</div>
                  <hr>
                  <h5><u>About the map</u></h5>
                  The map identifies streams predicted to be high quality based on current land cover conditions in the upstream drainage basin. Predictions are based on a model developed using over 30 years of Connecticut aquatic life and land cover data.  The map allows users to conduct 'what if' scenarios by exploring the loss of high quality stream kilometers when the percent core forest is reduced in the upstream drainage basin.
                  <hr>
                  <h5><u>How to use the map</u></h5>
                  The slider contained within the legend on the left side of the map reduces the amount of percent core forest from current land cover in the upstream basin of each stream.  The resulting map displays the predicted stream condition based on the reduction of core forest selected with the slider.  Hover the mouse over a stream catchment to get specific information for a particular stream segment including the probability that a stream segment is high quality and the amount of high quality stream kilometers lost due to core forest reduction.  The color of each stream segment catchment indicates the probability that the stream supports high quality conditions.  Stream catchments that are orange are likely not to support high quality condition, while stream catchments that are more blue are likely to support high quality conditions.
                  <hr>
                  <p>Additional information on this project and data included in the map can be found at Additional information on this project and data included in the map can be found at <a href = https://github.com/marybecker/HQStreamEval>https://github.com/marybecker/HQStreamEval.</a></p>
              </div>
          </div>
      </div>
    </div>

    <!-- Map -->  
    <div id="map"></div>

     <button id="consoleCollaspe" type="button" class="btn btn-dark d-lg-none"
             data-bs-toggle="collapse" data-bs-target="#legendCollaspe">
         <img src="images/list.svg" alt="Legend" style="vertical-align: middle; height: 18px">
     </button>


     <div id="legendCollaspe" class="collapse  d-lg-block">
     <div id ="console" class = "container-fluid">
         <div class="row" style="font-weight: bold; font-size: 120%;">
            Predicted Stream Condition
         </div>
         <div class="row mt-2">
             <div class="col-1"><div class="box" style="background:#023059"></div></div>
             <div class="col-9"><label>High Quality Stream (HQ)</label></div>
         </div>
         <div class="row">
            <div class="col-1"><div class="box" style="background:#df5a00"></div></div>
            <div class="col-9"><label>High Quality Stream (HQ) Lost</label></div>
         </div>
         <hr>
         <div class="row mt-2">
            <i>Move slider to see HQ loss from current condition
            due to % core forest reduction in the upstream drainage basin</i>
         </div>
         <div class="row mt-2" id="slider">
             <input autocomplete="off" id="chgSlide" type="range" min="0" max="20" value="0" step="1" /><br>
             <span id="reduction">0% Core Forest Reduction</span></br>
         </div>
         <div class="row mt-4">
             <div id="loss">0 Kilometers Lost Statewide (0%) </div>
         </div>
         <div class="Plot" id="Plot">
         </div>
     </div><!-- End of console div -->
     </div>

     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
     <script src="https://api.mapbox.com/mapbox-gl-js/v2.8.2/mapbox-gl.js"></script>
     <script src="https://d3js.org/d3.v7.min.js"></script>
     <script src="https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6"></script>
     <script src="js/main.js"></script>

</body>
</html>